!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=c(1)["default"],e=c(7)["default"];c(8),c(9),c(10),c(11),c(12),c(54),c(56),c(58);var f=c(60),g=e(f);angular.module("StrawPoll",["ngSanitize","notification","ddPieChart","WebSockets","Placeholder","spCore","spHome","spVote","spResults"]),d(g["default"]).forEach(function(a){angular.module("StrawPoll").constant(a,g["default"][a])}),angular.module("StrawPoll").config(["$sceDelegateProvider","staticLocation",function(a,b){a.resourceUrlWhitelist(["self","http:"+b+"/**","https:"+b+"/**"])}]),angular.element(document).ready(function(){angular.bootstrap(document,["StrawPoll"])})},function(a,b,c){a.exports={"default":c(2),__esModule:!0}},function(a,b,c){c(3),a.exports=c(4).core.Object.keys},function(a,b,c){var d=c(4),e=c(6),f=d.isObject,g=d.toObject;d.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(a,b){var c=(d.core.Object||{})[a]||Object[a],h=0,i={};i[a]=0==b?function(a){return f(a)?c(a):a}:1==b?function(a){return f(a)?c(a):a}:2==b?function(a){return f(a)?c(a):a}:3==b?function(a){return f(a)?c(a):!0}:4==b?function(a){return f(a)?c(a):!0}:5==b?function(a){return f(a)?c(a):!1}:6==b?function(a,b){return c(g(a),b)}:7==b?function(a){return c(Object(d.assertDefined(a)))}:8==b?function(a){return c(g(a))}:function(a){return c(g(a))};try{c("z")}catch(j){h=1}e(e.S+e.F*h,"Object",i)})},function(a,b,c){"use strict";function d(a){return isNaN(a=+a)?0:(a>0?p:o)(a)}function e(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}function f(a,b,c){return a[b]=c,a}function g(a){return s?function(b,c,d){return u.setDesc(b,c,e(a,d))}:f}function h(a){return null!==a&&("object"==typeof a||"function"==typeof a)}function i(a){return"function"==typeof a}function j(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}var k="undefined"!=typeof self?self:Function("return this")(),l={},m=Object.defineProperty,n={}.hasOwnProperty,o=Math.ceil,p=Math.floor,q=Math.max,r=Math.min,s=!!function(){try{return 2==m({},"a",{get:function(){return 2}}).a}catch(a){}}(),t=g(1),u=a.exports=c(5)({g:k,core:l,html:k.document&&document.documentElement,isObject:h,isFunction:i,that:function(){return this},toInteger:d,toLength:function(a){return a>0?r(d(a),9007199254740991):0},toIndex:function(a,b){return a=d(a),0>a?q(a+b,0):r(a,b)},has:function(a,b){return n.call(a,b)},create:Object.create,getProto:Object.getPrototypeOf,DESC:s,desc:e,getDesc:Object.getOwnPropertyDescriptor,setDesc:m,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:j,ES5Object:Object,toObject:function(a){return u.ES5Object(j(a))},hide:t,def:g(0),set:k.Symbol?f:t,each:[].forEach});"undefined"!=typeof __e&&(__e=l),"undefined"!=typeof __g&&(__g=k)},function(a){a.exports=function(a){return a.FW=!1,a.path=a.core,a}},function(a,b,c){function d(a,b){return function(){return a.apply(b,arguments)}}function e(a,b,c){var f,j,k,l,m=a&e.G,n=a&e.P,o=m?g:a&e.S?g[b]:(g[b]||{}).prototype,p=m?h:h[b]||(h[b]={});m&&(c=b);for(f in c)j=!(a&e.F)&&o&&f in o,j&&f in p||(k=j?o[f]:c[f],m&&!i(o[f])?l=c[f]:a&e.B&&j?l=d(k,g):a&e.W&&o[f]==k?!function(a){l=function(b){return this instanceof a?new a(b):a(b)},l.prototype=a.prototype}(k):l=n&&i(k)?d(Function.call,k):k,p[f]=l,n&&((p.prototype||(p.prototype={}))[f]=k))}var f=c(4),g=f.g,h=f.core,i=f.isFunction;e.F=1,e.G=2,e.S=4,e.P=8,e.B=16,e.W=32,a.exports=e},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(){angular.module("notification",["ngSanitize"]).service("notification",function(){var a=this._data={message:null,template:null};this.show=function(b){a.message=b},this.showTemplate=function(b){a.template=b},this.dismiss=function(){a.message=null,a.template=null}}).directive("notification",["notification",function(a){return{template:'<div class="notification-container" ng-show="_data.message || _data.template"><div class="notification-background" ng-click="_data.message = _data.template = null"></div><div class="notification"><span ng-bind-html="_data.message"></span><div ng-include="_data.template"></div></div></div>',replace:!0,scope:!0,link:function(b){b._data=a._data,b.$on("$routeChangeSuccess",function(){b._data.message=null})}}}])},function(){angular.module("Placeholder",[]).config(["$compileProvider",function(a){"placeholder"in document.createElement("input")||a.directive("placeholder",function(){return{restrict:"A",require:"ngModel",scope:{placeholder:"@"},link:function(a,b,c,d){var e=function(){b.val()===a.placeholder&&b.val("").removeClass("placeholder")},f=function(){b.val()&&b.val()!==a.placeholder||b.val(a.placeholder).addClass("placeholder")};d.$parsers.push(function(b){return b===a.placeholder?"":b}),d.$formatters.push(function(b){return b?b:a.placeholder}),b.on("focus",e).on("blur",f),f()}}})}])},function(){angular.module("ddPieChart",[]).factory("ddPieChart",function(){function a(a,b,c,d,e,f){this._element=a,this._radius=+b,this._data=c,this._labels=d,this._translateX=e,this._translateY=f,this._create()}return a.prototype._create=function(){var a,b,c=d3.scale.category20c();this._updateTotal(),this._total>0&&!this._svg&&(this._svg=d3.select(this._element).append("svg").data([this._data]),this._vis=this._svg.append("g").attr("transform","translate("+this._translateX+", "+this._translateY+")"),this._pie=d3.layout.pie(),this._arc=d3.svg.arc().outerRadius(this._radius),this._arcs=this._vis.selectAll().data(this._pie).enter(),a=this._arcs.append("path").attr("fill",function(a,b){return c(b)}).on("mouseover",function(c,d){angular.element(a[d]).addClass("hover"),angular.element(b[d]).addClass("hover")}).on("mouseout",function(c,d){angular.element(a[d]).removeClass("hover"),angular.element(b[d]).removeClass("hover")})[0],b=this._arcs.append("text")[0],delete this._element)},a.prototype._updateTotal=function(){this._total=this._data.reduce(function(a,b){return a+b},0)},a.prototype._renderLabel=function(a,b){var c=this._labels[b];return c.length>10&&(c=c.substr(0,10)+"â€¦"),c+" ("+Math.round(a.value/this._total*100)+"%)"},a.prototype._renderLabelTransform=function(a){return a.innerRadius=0,"translate("+this._arc.centroid(a)+")"},a.prototype._determineSliceVisibility=function(a){return a.value>0?"visible":"hidden"},a.prototype._determineLabelVisibility=function(a){return a.value/this._total>=.05?"visible":"hidden"},a.prototype.update=function(){this._create(),this._svg&&(this._vis.selectAll("path").data(this._pie).attr("d",this._arc),this._vis.selectAll("text").data(this._pie).text(this._renderLabel.bind(this)).attr("transform",this._renderLabelTransform.bind(this)),this._vis.selectAll("path").style("visibility",this._determineSliceVisibility),this._vis.selectAll("text").style("visibility",this._determineLabelVisibility.bind(this)))},a}).directive("ddPieChart",["ddPieChart",function(a){return{template:'<div class="pieChart"></div>',replace:!0,scope:{data:"=",labels:"=",radius:"@",translateX:"@",translateY:"@"},restrict:"E",link:function(b,c){var d,e=[],f=[],g=function(){Array.isArray(b.data)&&Array.isArray(b.labels)&&b.data.length===b.labels.length&&(angular.extend(e,b.data),angular.extend(f,b.labels),void 0===d&&(d=new a(c[0],b.radius,e,f,b.translateX,b.translateY)),d.update())};b.$watchCollection("data",g),b.$watchCollection("labels",g)}}}])},function(){angular.module("WebSockets",[]).service("pageVisibility",["$document",function(a){var b,c,d=a[0];"undefined"!=typeof d.hidden?(b="hidden",c="visibilitychange"):"undefined"!=typeof d.mozHidden?(b="mozHidden",c="mozvisibilitychange"):"undefined"!=typeof d.msHidden?(b="msHidden",c="msvisibilitychange"):"undefined"!=typeof d.webkitHidden&&(b="webkitHidden",c="webkitvisibilitychange"),this.onChange=function(e){var f=function(){e(d[b])};return a.on(c,f),a.off.bind(a,"visibilitychange",f)},this.isHidden=function(){return b?d[b]:!1}}]).service("webSocket",["$window","$timeout","pageVisibility",function(a,b,c){if(this.isCapable="undefined"!=typeof a.WebSocket,this.isCapable){var d=[],e=function(a,b,c,d){var e=new WebSocket(a);return e.onmessage=b,e.onerror=c.bind(null,!0),e.onclose=c.bind(null,!1),e.onopen=d,e},f=function(){var a,c=function(){d.forEach(function(a){a.close()})},f=function(){d.forEach(function(a,b){a.readyState===a.CLOSED&&d.splice(b,1,e(a.url,a.onmessage,a.onclose,a.onopen))})};return function(e){d.length&&(e?a=b(c,6e4):a&&(b.cancel(a),a=void 0,f()))}}();this.create=function(a,b,f){var g,h,i=0;return f=function(a,b){c.isHidden()||0!==i++?a(b):setTimeout(function(){d.splice(h,1,e(g.url,g.onmessage,g.onclose,g.onopen))},5e3)}.bind(null,f||angular.noop),g=e(a,b,f,function(){i=0}),d.push(g),h=d.indexOf(g),function(){d[h].close(),d.splice(h,1)}},c.onChange(f)}}])},function(a,b,c){"use strict";var d=c(13)["default"],e=c(7)["default"],f=c(30),g=e(f),h=c(48),i=e(h),j=c(50),k=e(j),l=c(52),m=e(l),n=c(53),o=e(n);angular.module("spCore",[]).config(["$httpProvider",function(a){a.defaults.withCredentials=!0}]).run(["$http","$cacheFactory",function(a,b){var c=b("httpCache");a.defaults.cache=c}]).service("pollService",[].concat(d(g["default"].$inject||[]),[g["default"]])).service("voteService",[].concat(d(i["default"].$inject||[]),[i["default"]])).service("userService",[].concat(d(k["default"].$inject||[]),[k["default"]])).service("authService",[].concat(d(m["default"].$inject||[]),[m["default"]])).service("authGoogleService",[].concat(d(o["default"].$inject||[]),[o["default"]]))},function(a,b,c){"use strict";var d=c(14)["default"];b["default"]=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return d(a)},b.__esModule=!0},function(a,b,c){a.exports={"default":c(15),__esModule:!0}},function(a,b,c){c(16),c(26),a.exports=c(4).core.Array.from},function(a,b,c){var d=c(4).set,e=c(17)(!0),f=c(18).safe("iter"),g=c(19),h=g.step;c(24)(String,"String",function(a){d(this,f,{o:String(a),i:0})},function(){var a,b=this[f],c=b.o,d=b.i;return d>=c.length?h(1):(a=e(c,d),b.i+=a.length,h(0,a))})},function(a,b,c){var d=c(4);a.exports=function(a){return function(b,c){var e,f,g=String(d.assertDefined(b)),h=d.toInteger(c),i=g.length;return 0>h||h>=i?a?"":void 0:(e=g.charCodeAt(h),55296>e||e>56319||h+1===i||(f=g.charCodeAt(h+1))<56320||f>57343?a?g.charAt(h):e:a?g.slice(h,h+2):(e-55296<<10)+(f-56320)+65536)}}},function(a,b,c){function d(a){return"Symbol(".concat(void 0===a?"":a,")_",(++e+Math.random()).toString(36))}var e=0;d.safe=c(4).g.Symbol||d,a.exports=d},function(a,b,c){"use strict";function d(a,b){e.hide(a,h,b),i in[]&&e.hide(a,i,b)}var e=c(4),f=c(20),g=c(23).obj,h=c(21)("iterator"),i="@@iterator",j=c(22)("iterators"),k={};d(k,e.that),a.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:j,step:function(a,b){return{value:b,done:!!a}},is:function(a){var b=Object(a),c=e.g.Symbol,d=c&&c.iterator||i;return d in b||h in b||e.has(j,f.classof(b))},get:function(a){var b=e.g.Symbol,c=a[b&&b.iterator||i],d=c||a[h]||j[f.classof(a)];return g(d.call(a))},set:d,create:function(a,b,c,d){a.prototype=e.create(d||k,{next:e.desc(1,c)}),f.set(a,b+" Iterator")}}},function(a,b,c){function d(a){return g.call(a).slice(8,-1)}var e=c(4),f=c(21)("toStringTag"),g={}.toString;d.classof=function(a){var b,c;return void 0==a?void 0===a?"Undefined":"Null":"string"==typeof(c=(b=Object(a))[f])?c:d(b)},d.set=function(a,b,c){a&&!e.has(a=c?a:a.prototype,f)&&e.hide(a,f,b)},a.exports=d},function(a,b,c){var d=c(4).g,e=c(22)("wks");a.exports=function(a){return e[a]||(e[a]=d.Symbol&&d.Symbol[a]||c(18).safe("Symbol."+a))}},function(a,b,c){var d=c(4),e="__core-js_shared__",f=d.g[e]||d.hide(d.g,e,{})[e];a.exports=function(a){return f[a]||(f[a]={})}},function(a,b,c){function d(a,b,c){if(!a)throw TypeError(c?b+c:b)}var e=c(4);d.def=e.assertDefined,d.fn=function(a){if(!e.isFunction(a))throw TypeError(a+" is not a function!");return a},d.obj=function(a){if(!e.isObject(a))throw TypeError(a+" is not an object!");return a},d.inst=function(a,b,c){if(!(a instanceof b))throw TypeError(c+": use the 'new' operator!");return a},a.exports=d},function(a,b,c){var d=c(6),e=c(25),f=c(4),g=c(20),h=c(19),i=c(21)("iterator"),j="@@iterator",k="keys",l="values",m=h.Iterators;a.exports=function(a,b,c,n,o,p,q){function r(a){function b(b){return new c(b,a)}switch(a){case k:return function(){return b(this)};case l:return function(){return b(this)}}return function(){return b(this)}}h.create(c,b,n);var s,t,u=b+" Iterator",v=a.prototype,w=v[i]||v[j]||o&&v[o],x=w||r(o);if(w){var y=f.getProto(x.call(new a));g.set(y,u,!0),f.FW&&f.has(v,j)&&h.set(y,f.that)}if(f.FW&&h.set(v,x),m[b]=x,m[u]=f.that,o)if(s={keys:p?x:r(k),values:o==l?x:r(l),entries:o!=l?x:r("entries")},q)for(t in s)t in v||e(v,t,s[t]);else d(d.P+d.F*h.BUGGY,b,s)}},function(a,b,c){a.exports=c(4).hide},function(a,b,c){var d=c(4),e=c(27),f=c(6),g=c(19),h=c(28);f(f.S+f.F*!c(29)(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,f,i,j=Object(d.assertDefined(a)),k=arguments[1],l=void 0!==k,m=l?e(k,arguments[2],2):void 0,n=0;if(g.is(j))for(i=g.get(j),c=new("function"==typeof this?this:Array);!(f=i.next()).done;n++)c[n]=l?h(i,m,[f.value,n],!0):f.value;else for(c=new("function"==typeof this?this:Array)(b=d.toLength(j.length));b>n;n++)c[n]=l?m(j[n],n):j[n];return c.length=n,c}})},function(a,b,c){var d=c(23).fn;a.exports=function(a,b,c){if(d(a),~c&&void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b,c){function d(a){var b=a["return"];void 0!==b&&f(b.call(a))}function e(a,b,c,e){try{return e?b(f(c)[0],c[1]):b(c)}catch(g){throw d(a),g}}var f=c(23).obj;e.close=d,a.exports=e},function(a,b,c){var d=c(21)("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}a.exports=function(a){if(!e)return!1;var b=!1;try{var c=[7],f=c[d]();f.next=function(){b=!0},c[d]=function(){return f},a(c)}catch(g){}return b}},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(13)["default"],i=c(38)["default"],j=c(7)["default"];i(b,"__esModule",{value:!0});var k=c(41),l=j(k),m=c(47),n=j(m),o=function(a){function b(a,c){for(var d=arguments.length,f=Array(d>2?d-2:0),h=2;d>h;h++)f[h-2]=arguments[h];var i;g(this,b),(i=e(Object.getPrototypeOf(b.prototype),"constructor",this)).call.apply(i,[this,a,c+"polls"].concat(f))}return d(b,a),f(b,[{key:"build",value:function(a){return new n["default"](a)}},{key:"update",value:function(){throw new Error("updating not supported by Poll resource")}},{key:"delete",value:function(){throw new Error("deleting not supported by Poll resource")}}],[{key:"$inject",get:function(){return[].concat(h(l["default"].$inject))}}]),b}(l["default"]);b["default"]=o,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(32)["default"];b["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=d(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},b.__esModule=!0},function(a,b,c){a.exports={"default":c(33),__esModule:!0}},function(a,b,c){var d=c(4);a.exports=function(a,b){return d.create(a,b)}},function(a,b,c){"use strict";var d=c(35)["default"];b["default"]=function(a,b,c){for(var e=!0;e;){var f=a,g=b,h=c;i=k=j=void 0,e=!1;var i=d(f,g);if(void 0!==i){if("value"in i)return i.value;var j=i.get;return void 0===j?void 0:j.call(h)}var k=Object.getPrototypeOf(f);if(null===k)return void 0;a=k,b=g,c=h,e=!0}},b.__esModule=!0},function(a,b,c){a.exports={"default":c(36),__esModule:!0}},function(a,b,c){var d=c(4);c(3),a.exports=function(a,b){return d.getDesc(a,b)}},function(a,b,c){"use strict";var d=c(38)["default"];b["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),b.__esModule=!0},function(a,b,c){a.exports={"default":c(39),__esModule:!0}},function(a,b,c){var d=c(4);a.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(a,b){"use strict";b["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},b.__esModule=!0},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(38)["default"],i=c(42)["default"];h(b,"__esModule",{value:!0});var j={$http:i("sp.$http"),restServerUri:i("sp.restServerUri"),handleServiceError:i("sp.handleServiceError"),buildUri:i("sp.buildUri")},k=function(a){function b(a,c){g(this,b),e(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.code=a,this.message=c}return d(b,a),f(b,[{key:"name",get:function(){return"RestError"}}]),b}(Error),l=function(){function a(b,c){g(this,a),this[j.$http]=b,this[j.restServerUri]=c,this[j.handleServiceError]=this[j.handleServiceError].bind(this)}return f(a,[{key:j.handleServiceError,value:function(a){if(a instanceof Error)throw a;throw new k(a.data.code||-1,a.data.error||"Unknown error")}},{key:j.buildUri,value:function(a){return this[j.restServerUri]+(a?"/"+a:"")}},{key:"build",value:function(a){return a}},{key:"create",value:function(a){var b=this;return this[j.$http].post(this[j.buildUri](),a).then(function(a){if(201===a.status)return b.build(a.data);throw new k(-1,"entity not created")})["catch"](this[j.handleServiceError])}},{key:"retrieve",value:function(a,b){var c=this;return this[j.$http].get(this[j.buildUri](a),b).then(function(a){return c.build(a.data)})["catch"](this[j.handleServiceError])}},{key:"update",value:function(a,b){var c=this;return this[j.$http].put(this[j.buildUri](a),b).then(function(a){return c.build(a.data)})["catch"](this[j.handleServiceError])}},{key:"delete",value:function(a){return this[j.$http]["delete"](this[j.buildUri](a))["catch"](this[j.handleServiceError])}}],[{key:"$inject",get:function(){return["$http","restServerUri"]}}]),a}();b["default"]=l,a.exports=b["default"]},function(a,b,c){a.exports={"default":c(43),__esModule:!0}},function(a,b,c){c(44),a.exports=c(4).core.Symbol["for"]},function(a,b,c){"use strict";function d(a){var b=J[a]=l.set(x(D.prototype),F,a);return v&&E&&L(u,a,{configurable:!0,set:function(b){w(this,G)&&w(this[G],a)&&(this[G][a]=!1),L(this,a,A(1,b))}}),b}function e(a,b,c){return c&&w(J,b)?(c.enumerable?(w(a,G)&&a[G][b]&&(a[G][b]=!1),c=x(c,{enumerable:A(0,!1)})):(w(a,G)||z(a,G,A(1,{})),a[G][b]=!0),L(a,b,c)):z(a,b,c)}function f(a,b){t(a);for(var c,d=s(b=C(b)),f=0,g=d.length;g>f;)e(a,c=d[f++],b[c]);return a}function g(a,b){return void 0===b?x(a):f(x(a),b)}function h(a){var b=H.call(this,a);return b||!w(this,a)||!w(J,a)||w(this,G)&&this[G][a]?b:!0}function i(a,b){var c=y(a=C(a),b);return!c||!w(J,b)||w(a,G)&&a[G][b]||(c.enumerable=!0),c}function j(a){for(var b,c=B(C(a)),d=[],e=0;c.length>e;)w(J,b=c[e++])||b==G||d.push(b);return d}function k(a){for(var b,c=B(C(a)),d=[],e=0;c.length>e;)w(J,b=c[e++])&&d.push(J[b]);return d}var l=c(4),m=c(20).set,n=c(18),o=c(22),p=c(6),q=c(25),r=c(45),s=c(46),t=c(23).obj,u=Object.prototype,v=l.DESC,w=l.has,x=l.create,y=l.getDesc,z=l.setDesc,A=l.desc,B=l.getNames,C=l.toObject,D=l.g.Symbol,E=!1,F=n("tag"),G=n("hidden"),H={}.propertyIsEnumerable,I=o("symbol-registry"),J=o("symbols"),K=l.isFunction(D),L=v?function(){try{return x(z({},G,{get:function(){return z(this,G,{value:!1})[G]}}))[G]||z}catch(a){return function(a,b,c){var d=y(u,b);d&&delete u[b],z(a,b,c),d&&a!==u&&z(u,b,d)}}}():z;K||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor");return d(n(arguments[0]))},q(D.prototype,"toString",function(){return this[F]}),l.create=g,l.setDesc=e,l.getDesc=i,l.setDescs=f,l.getNames=j,l.getSymbols=k,l.DESC&&l.FW&&q(Object.prototype,"propertyIsEnumerable",h,!0));var M={"for":function(a){return w(I,a+="")?I[a]:I[a]=D(a)},keyFor:function(a){return r(I,a)},useSetter:function(){E=!0},useSimple:function(){E=!1}};l.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(a){var b=c(21)(a);M[a]=K?b:d(b)}),E=!0,p(p.G+p.W,{Symbol:D}),p(p.S,"Symbol",M),p(p.S+p.F*!K,"Object",{create:g,defineProperty:e,defineProperties:f,getOwnPropertyDescriptor:i,getOwnPropertyNames:j,getOwnPropertySymbols:k}),m(D,"Symbol"),m(Math,"Math",!0),m(l.g.JSON,"JSON",!0)},function(a,b,c){var d=c(4);a.exports=function(a,b){for(var c,e=d.toObject(a),f=d.getKeys(e),g=f.length,h=0;g>h;)if(e[c=f[h++]]===b)return c}},function(a,b,c){var d=c(4);a.exports=function(a){var b=d.getKeys(a),c=d.getDesc,e=d.getSymbols;return e&&d.each.call(e(a),function(d){c(a,d).enumerable&&b.push(d)}),b}},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(38)["default"],g=c(42)["default"];f(b,"__esModule",{value:!0});var h={data:g("sp.data")},i=function(){function a(){var b=void 0===arguments[0]?{}:arguments[0];e(this,a),this[h.data]=b}return d(a,[{key:"id",get:function(){return this[h.data].id},set:function(a){this[h.data].id=a}},{key:"aid",get:function(){return this[h.data].aid},set:function(a){this[h.data].aid=a}},{key:"title",get:function(){return this[h.data].title},set:function(a){this[h.data].title=a}},{key:"options",get:function(){return this[h.data].options||(this.options=[]),this[h.data].options},set:function(a){this[h.data].options=a}},{key:"votes",get:function(){return this[h.data].votes||(this.votes=[]),this[h.data].votes},set:function(a){this[h.data].votes=a}},{key:"permissive",get:function(){return this[h.data].permissive||!1},set:function(a){this[h.data].permissive=a}},{key:"multi",get:function(){return this[h.data].multi||!1},set:function(a){this[h.data].multi=a}},{key:"captcha",get:function(){return this[h.data].captcha||!1},set:function(a){this[h.data].captcha=a}},{key:"toJSON",value:function(){var a={title:this.title,permissive:this.permissive,multi:this.multi,captcha:this.captcha},b=this.options.filter(function(a){return a}),c=this.votes.filter(function(a){return a});return b.length&&(a.options=b),c.length&&(a.votes=c),this.id&&(a.id=this.id),a}}]),a}();b["default"]=i,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(13)["default"],i=c(38)["default"],j=c(7)["default"];i(b,"__esModule",{value:!0});var k=c(41),l=j(k),m=c(49),n=j(m),o=function(a){function b(a,c){for(var d=arguments.length,f=Array(d>2?d-2:0),h=2;d>h;h++)f[h-2]=arguments[h];var i;g(this,b),(i=e(Object.getPrototypeOf(b.prototype),"constructor",this)).call.apply(i,[this,a,c+"votes"].concat(f))}return d(b,a),f(b,[{key:"build",value:function(a){return new n["default"](a)}},{key:"retrieve",value:function(){throw new Error("retrieval not supported by Vote resource")}},{key:"update",value:function(){throw new Error("updating not supported by Vote resource")}},{key:"delete",value:function(){throw new Error("deleting not supported by Vote resource")}}],[{key:"$inject",get:function(){return[].concat(h(l["default"].$inject))}}]),b}(l["default"]);b["default"]=o,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(38)["default"],g=c(42)["default"];f(b,"__esModule",{value:!0});var h={data:g("sp.data")},i=function(){function a(){var b=void 0===arguments[0]?{}:arguments[0];e(this,a),this[h.data]=b}return d(a,[{key:"pollId",get:function(){return this[h.data].pollId},set:function(a){this[h.data].pollId=a}},{key:"votes",get:function(){return this[h.data].votes||(this.votes=[]),this[h.data].votes},set:function(a){this[h.data].votes=a}},{key:"captcha",get:function(){return this[h.data].captcha||""},set:function(a){this[h.data].captcha=a}},{key:"toJSON",value:function(){var a={pollId:this.pollId},b=this.votes.filter(function(a){return!isNaN(parseFloat(a))});return b.length&&(a.votes=b),this.captcha&&(a.captcha=this.captcha),a}}]),a}();b["default"]=i,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(13)["default"],i=c(38)["default"],j=c(42)["default"],k=c(7)["default"];i(b,"__esModule",{value:!0});var l=c(41),m=k(l),n=c(51),o=k(n),p={currentUser:j("sp.currentUser")},q=function(a){function b(a,c){for(var d=arguments.length,f=Array(d>2?d-2:0),h=2;d>h;h++)f[h-2]=arguments[h];var i;g(this,b),(i=e(Object.getPrototypeOf(b.prototype),"constructor",this)).call.apply(i,[this,a,c+"users"].concat(f))}return d(b,a),f(b,[{key:"currentUser",get:function(){return this[p.currentUser]},set:function(a){this[p.currentUser]=a}},{key:"build",value:function(a){return new o["default"](a)}},{key:"retrieve",value:function(){throw new Error("retrieval not supported by User resource")}},{key:"update",value:function(){throw new Error("updating not supported by User resource")}},{key:"delete",value:function(){throw new Error("deleting not supported by User resource")}}],[{key:"$inject",get:function(){return[].concat(h(m["default"].$inject))}}]),b}(m["default"]);b["default"]=q,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(38)["default"],g=c(42)["default"],h=c(1)["default"];f(b,"__esModule",{value:!0});var i={data:g("sp.data")},j=function(){function a(){var b=void 0===arguments[0]?{}:arguments[0];e(this,a),this[i.data]=b}return d(a,[{key:"id",get:function(){return this[i.data].id},set:function(a){this[i.data].id=a}},{key:"username",get:function(){return this[i.data].username},set:function(a){this[i.data].username=a}},{key:"email",get:function(){return this[i.data].email},set:function(a){this[i.data].email=a}},{key:"tokens",get:function(){return this[i.data].tokens||(this.tokens={}),this[i.data].tokens},set:function(a){this[i.data].tokens=a}},{key:"toJSON",value:function(){var a={username:this.username};return this.id&&(a.id=this.id),this.email&&(a.email=this.email),h(this.tokens).length&&(a.tokens=this.tokens),a}}]),a}();b["default"]=j,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(13)["default"],i=c(38)["default"],j=c(7)["default"];i(b,"__esModule",{value:!0});var k=c(41),l=j(k),m=function(a){function b(a,c){for(var d=arguments.length,f=Array(d>2?d-2:0),h=2;d>h;h++)f[h-2]=arguments[h];var i;g(this,b),(i=e(Object.getPrototypeOf(b.prototype),"constructor",this)).call.apply(i,[this,a,c+"auth"].concat(f))}return d(b,a),f(b,[{key:"create",value:function(){throw new Error("deleting not supported by AuthGoogle resource")}},{key:"retrieve",value:function(){throw new Error("retrieval not supported by AuthGoogle resource")}},{key:"update",value:function(){throw new Error("updating not supported by AuthGoogle resource")}}],[{key:"$inject",get:function(){return[].concat(h(l["default"].$inject))}}]),b}(l["default"]);b["default"]=m,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(31)["default"],e=c(34)["default"],f=c(37)["default"],g=c(40)["default"],h=c(13)["default"],i=c(38)["default"],j=c(7)["default"];i(b,"__esModule",{value:!0});var k=c(41),l=j(k),m=c(51),n=j(m),o=function(a){function b(a,c){for(var d=arguments.length,f=Array(d>2?d-2:0),h=2;d>h;h++)f[h-2]=arguments[h];var i;g(this,b),(i=e(Object.getPrototypeOf(b.prototype),"constructor",this)).call.apply(i,[this,a,c+"auth/google"].concat(f))}return d(b,a),f(b,[{key:"build",value:function(a){return new n["default"](a)}},{key:"retrieve",value:function(){throw new Error("retrieval not supported by AuthGoogle resource")}},{key:"update",value:function(){throw new Error("updating not supported by AuthGoogle resource")}},{key:"delete",value:function(){throw new Error("deleting not supported by AuthGoogle resource")}}],[{key:"$inject",get:function(){return[].concat(h(l["default"].$inject))}}]),b}(l["default"]);b["default"]=o,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(13)["default"],e=c(7)["default"],f=c(55),g=e(f);angular.module("spHome",["spCore"]).controller("HomeController",[].concat(d(g["default"].$inject||[]),[g["default"]]))},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(38)["default"],g=c(42)["default"];f(b,"__esModule",{value:!0});var h={$filter:g("sp.$filter"),$location:g("sp.$location"),pollService:g("sp.pollService"),userService:g("sp.userService"),notification:g("sp.notification"),poll:g("sp.poll"),setupNewPoll:g("sp.setupNewPoll")},i=function(){function a(b,c,d,f,g){e(this,a),this[h.$filter]=b,this[h.$location]=c,this[h.pollService]=d,this[h.userService]=f,this[h.notification]=g,this[h.setupNewPoll]()}return d(a,[{key:"notification",get:function(){return this[h.notification]}},{key:"poll",get:function(){return this[h.poll]}},{key:h.setupNewPoll,value:function(){var a=null;try{a=JSON.parse(this[h.$location].search().savedPoll),a.options?a.options.length<30&&a.options.push(""):a.options=["","","",""]}catch(b){}this[h.poll]=this[h.pollService].build(a||{options:["","","",""]})}},{key:"addNewOption",value:function(a){30>a&&"undefined"==typeof this.poll.options[a]&&this.poll.options.push("")}},{key:"validPollOptions",value:function(){return this.poll.options.filter(function(a){return a})}},{key:"encodePollInURL",value:function(){this[h.$location].search("savedPoll",JSON.stringify(this.poll))}},{key:"createPoll",value:function(){var a=this,b=this.validPollOptions().length;!this.poll.title||2>b||b>30||this[h.pollService].create(this.poll).then(function(b){var c;c=a[h.$filter]("linky")(b.aid&&a[h.userService].currentUser?"http://"+window.location.host+"/"+a[h.userService].currentUser.username+"/"+b.aid:"http://"+window.location.host+"/"+b.id),a.notification.show("Your poll has been created and is now available at "+c),a[h.setupNewPoll]()},function(b){a.notification.show("Could not create your poll. Error returned by server: "+b.message)})}}],[{key:"$inject",get:function(){return["$filter","$location","pollService","userService","notification"]}}]),a}();b["default"]=i,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(13)["default"],e=c(7)["default"],f=c(57),g=e(f);angular.module("spResults",["spCore"]).controller("ResultsController",[].concat(d(g["default"].$inject||[]),[g["default"]]))},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(38)["default"],g=c(42)["default"],h=c(1)["default"];f(b,"__esModule",{value:!0});var i={$scope:g("sp.$scope"),$interval:g("sp.$interval"),pollId:g("sp.pollId"),notification:g("sp.notification"),pollService:g("sp.pollService"),pageVisibility:g("sp.pageVisibility"),webSocket:g("sp.webSocket"),websocketServer:g("sp.websocketServer"),poll:g("sp.poll"),pollInterval:g("sp.pollInterval"),socket:g("sp.socket"),processPoll:g("sp.processPoll"),retrievePoll:g("sp.retrievePoll"),stopPolling:g("sp.stopPolling"),startPolling:g("sp.startPolling"),onSocketMessage:g("sp.onSocketMessage"),onSocketFailure:g("sp.onSocketFailure"),startSocket:g("sp.startSocket")},j=function(){function a(b,c,d,f,g,h,j,k){var l=this;e(this,a),this[i.$scope]=b,this[i.$interval]=c,this[i.pollId]=d,this[i.notification]=f,this[i.pollService]=g,this[i.pageVisibility]=h,this[i.webSocket]=j,this[i.websocketServer]=k,this[i.processPoll]=this[i.processPoll].bind(this),this[i.onSocketMessage]=this[i.onSocketMessage].bind(this),this[i.onSocketFailure]=this[i.onSocketFailure].bind(this),this.destructor=this.destructor.bind(this),this[i.retrievePoll](d).then(function(){j.isCapable?l[i.startSocket]():l[i.startPolling]()}),b.$on("$destroy",this.destructor)}return d(a,[{key:"destructor",value:function(){this[i.stopPolling](),this[i.socket]&&this[i.socket]()
}},{key:"poll",get:function(){return this[i.poll]}},{key:"notification",get:function(){return this[i.notification]}},{key:i.processPoll,value:function(a){a.totalVotes=0,a.combinedOptions=a.options.map(function(b,c){return a.totalVotes+=a.votes[c],{id:c+1,text:b,votes:a.votes[c]}}),a.combinedOptions.sort(function(a,b){return b.votes-a.votes||a.id-b.id}),this[i.poll]=a}},{key:i.retrievePoll,value:function(a){var b=void 0===arguments[1]?{}:arguments[1];return this[i.pollService].retrieve(a,b).then(this[i.processPoll],function(a){notification.show("Could not load poll. Error returned by server: "+a.message)})}},{key:i.stopPolling,value:function(){this[i.$interval].cancel(this[i.pollInterval])}},{key:i.startPolling,value:function(){var a=this;this[i.pollInterval]&&this[i.stopPolling](),this[i.pollInterval]=this[i.$interval](function(){a[i.retrievePoll](a.poll.id,{cache:!1})},2e4)}},{key:i.onSocketMessage,value:function(a){var b=JSON.parse(a.data);(!this.poll||h(b).reduce(function(a,c){return a+b[c]},0)>this.poll.totalVotes)&&(angular.extend(this.poll.votes,b),this[i.processPoll](this.poll),this[i.$scope].$apply())}},{key:i.onSocketFailure,value:function(a){var b=this;a||!this[i.pageVisibility].isHidden()?this[i.startPolling]():!function(){var a=b[i.pageVisibility].onChange(function(){b[i.retrievePoll](b.poll.id,{cache:!1}),a()})}()}},{key:i.startSocket,value:function(){this[i.socket]=this[i.webSocket].create("ws"+("https:"===window.location.protocol?"s":"")+"://"+this[i.websocketServer]+"/ws/votes-"+this.poll.id,this[i.onSocketMessage],this[i.onSocketFailure])}}],[{key:"$inject",get:function(){return["$scope","$interval","pollId","notification","pollService","pageVisibility","webSocket","websocketServer"]}}]),a}();b["default"]=j,a.exports=b["default"]},function(a,b,c){"use strict";var d=c(13)["default"],e=c(7)["default"],f=c(59),g=e(f);angular.module("spVote",["spCore"]).controller("VoteController",[].concat(d(g["default"].$inject||[]),[g["default"]]))},function(a,b,c){"use strict";var d=c(37)["default"],e=c(40)["default"],f=c(13)["default"],g=c(38)["default"],h=c(42)["default"];g(b,"__esModule",{value:!0});var i={$window:h("sp.$window"),notification:h("sp.notification"),pollService:h("sp.pollService"),voteService:h("sp.voteService"),poll:h("sp.poll"),votes:h("sp.votes")},j=function(){function a(b,c,d,f,g){e(this,a),this[i.$window]=b,this[i.notification]=d,this[i.pollService]=f,this[i.voteService]=g,this[i.votes]=this[i.voteService].build({pollId:c}),b.spSetCaptchaToken=this.setCaptchaToken.bind(this),this.goToResults=this.goToResults.bind(this),this[i.loadPoll](c)}return d(a,[{key:"notification",get:function(){return this[i.notification]}},{key:"poll",get:function(){return this[i.poll]}},{key:"votes",get:function(){return this[i.votes].votes}},{key:"captcha",get:function(){return this[i.votes].captcha},set:function(a){this[i.votes].captcha=a}},{key:i.loadPoll,value:function(a){var b=this;this[i.pollService].retrieve(a).then(function(a){b[i.poll]=a},function(a){b.notification.show("Could not load poll. Error returned by server: "+a.message)})}},{key:"toggleVote",value:function(a){var b=this.votes.indexOf(a);-1!==b?this.votes.splice(b,1):(this.poll.multi||(this.votes.length=0),this.votes.push(a))}},{key:"setCaptchaToken",value:function(a){this.captcha=a}},{key:"goToResults",value:function(){this[i.$window].location.pathname=this[i.$window].location.pathname.replace(/\/$/,"")+"/r"}},{key:"castVote",value:function(){var a=this;0===this.votes.length||!this.poll.multi&&this.votes.length>1||Math.max.apply(Math,f(this.votes))>=this.poll.options.length||Math.min.apply(Math,f(this.votes))<0||this.poll.captcha&&"string"!=typeof this.captcha||this[i.voteService].create(this[i.votes]).then(this.goToResults,function(b){a.notification.show("Could not cast your vote. Error returned by server: "+b.message)})}}],[{key:"$inject",get:function(){return["$window","pollId","notification","pollService","voteService"]}}]),a}();b["default"]=j,a.exports=b["default"]},function(a){a.exports={restServerUri:"/api/v2/",staticLocation:"//static.strawpoll.me",websocketServer:"updates.strawpoll.me",connectConfig:{google:{client_id:"766183019915-6h0ou4lecj4q8975rn5tl2s94n3adl28.apps.googleusercontent.com"}}}}]);